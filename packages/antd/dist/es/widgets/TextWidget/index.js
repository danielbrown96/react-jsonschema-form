import React from 'react';
import Input from 'antd/lib/input';
import InputNumber from 'antd/lib/input-number';
var INPUT_STYLE = {
  width: '100%'
};

var TextWidget = function TextWidget(_ref) {
  var disabled = _ref.disabled,
      formContext = _ref.formContext,
      id = _ref.id,
      onBlur = _ref.onBlur,
      onChange = _ref.onChange,
      onFocus = _ref.onFocus,
      options = _ref.options,
      placeholder = _ref.placeholder,
      readonly = _ref.readonly,
      schema = _ref.schema,
      value = _ref.value;
  var _formContext$readonly = formContext.readonlyAsDisabled,
      readonlyAsDisabled = _formContext$readonly === void 0 ? true : _formContext$readonly;

  var handleNumberChange = function handleNumberChange(nextValue) {
    return onChange(nextValue);
  };

  var handleTextChange = function handleTextChange(_ref2) {
    var target = _ref2.target;
    return onChange(target.value === '' ? options.emptyValue : target.value);
  };

  var handleBlur = function handleBlur(_ref3) {
    var target = _ref3.target;
    return onBlur(id, target.value);
  };

  var handleFocus = function handleFocus(_ref4) {
    var target = _ref4.target;
    return onFocus(id, target.value);
  };

  return schema.type === 'number' || schema.type === 'integer' ? /*#__PURE__*/React.createElement(InputNumber, {
    disabled: disabled || readonlyAsDisabled && readonly,
    id: id,
    name: id,
    onBlur: !readonly ? handleBlur : undefined,
    onChange: !readonly ? handleNumberChange : undefined,
    onFocus: !readonly ? handleFocus : undefined,
    placeholder: placeholder,
    style: INPUT_STYLE,
    type: "number",
    value: value
  }) : /*#__PURE__*/React.createElement(Input, {
    disabled: disabled || readonlyAsDisabled && readonly,
    id: id,
    name: id,
    onBlur: !readonly ? handleBlur : undefined,
    onChange: !readonly ? handleTextChange : undefined,
    onFocus: !readonly ? handleFocus : undefined,
    placeholder: placeholder,
    style: INPUT_STYLE,
    type: options.inputType || 'text',
    value: value
  });
};

export default TextWidget;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy93aWRnZXRzL1RleHRXaWRnZXQvaW5kZXguanMiXSwibmFtZXMiOlsiUmVhY3QiLCJJbnB1dCIsIklucHV0TnVtYmVyIiwiSU5QVVRfU1RZTEUiLCJ3aWR0aCIsIlRleHRXaWRnZXQiLCJkaXNhYmxlZCIsImZvcm1Db250ZXh0IiwiaWQiLCJvbkJsdXIiLCJvbkNoYW5nZSIsIm9uRm9jdXMiLCJvcHRpb25zIiwicGxhY2Vob2xkZXIiLCJyZWFkb25seSIsInNjaGVtYSIsInZhbHVlIiwicmVhZG9ubHlBc0Rpc2FibGVkIiwiaGFuZGxlTnVtYmVyQ2hhbmdlIiwibmV4dFZhbHVlIiwiaGFuZGxlVGV4dENoYW5nZSIsInRhcmdldCIsImVtcHR5VmFsdWUiLCJoYW5kbGVCbHVyIiwiaGFuZGxlRm9jdXMiLCJ0eXBlIiwidW5kZWZpbmVkIiwiaW5wdXRUeXBlIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxLQUFQLE1BQWtCLE9BQWxCO0FBRUEsT0FBT0MsS0FBUCxNQUFrQixnQkFBbEI7QUFDQSxPQUFPQyxXQUFQLE1BQXdCLHVCQUF4QjtBQUVBLElBQU1DLFdBQVcsR0FBRztBQUNsQkMsRUFBQUEsS0FBSyxFQUFFO0FBRFcsQ0FBcEI7O0FBSUEsSUFBTUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsT0FlYjtBQUFBLE1BYkpDLFFBYUksUUFiSkEsUUFhSTtBQUFBLE1BWkpDLFdBWUksUUFaSkEsV0FZSTtBQUFBLE1BWEpDLEVBV0ksUUFYSkEsRUFXSTtBQUFBLE1BVEpDLE1BU0ksUUFUSkEsTUFTSTtBQUFBLE1BUkpDLFFBUUksUUFSSkEsUUFRSTtBQUFBLE1BUEpDLE9BT0ksUUFQSkEsT0FPSTtBQUFBLE1BTkpDLE9BTUksUUFOSkEsT0FNSTtBQUFBLE1BTEpDLFdBS0ksUUFMSkEsV0FLSTtBQUFBLE1BSkpDLFFBSUksUUFKSkEsUUFJSTtBQUFBLE1BRkpDLE1BRUksUUFGSkEsTUFFSTtBQUFBLE1BREpDLEtBQ0ksUUFESkEsS0FDSTtBQUFBLDhCQUNrQ1QsV0FEbEMsQ0FDSVUsa0JBREo7QUFBQSxNQUNJQSxrQkFESixzQ0FDeUIsSUFEekI7O0FBR0osTUFBTUMsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFxQixDQUFDQyxTQUFEO0FBQUEsV0FBZVQsUUFBUSxDQUFDUyxTQUFELENBQXZCO0FBQUEsR0FBM0I7O0FBRUEsTUFBTUMsZ0JBQWdCLEdBQUcsU0FBbkJBLGdCQUFtQjtBQUFBLFFBQUdDLE1BQUgsU0FBR0EsTUFBSDtBQUFBLFdBQ3ZCWCxRQUFRLENBQUNXLE1BQU0sQ0FBQ0wsS0FBUCxLQUFpQixFQUFqQixHQUFzQkosT0FBTyxDQUFDVSxVQUE5QixHQUEyQ0QsTUFBTSxDQUFDTCxLQUFuRCxDQURlO0FBQUEsR0FBekI7O0FBR0EsTUFBTU8sVUFBVSxHQUFHLFNBQWJBLFVBQWE7QUFBQSxRQUFHRixNQUFILFNBQUdBLE1BQUg7QUFBQSxXQUFnQlosTUFBTSxDQUFDRCxFQUFELEVBQUthLE1BQU0sQ0FBQ0wsS0FBWixDQUF0QjtBQUFBLEdBQW5COztBQUVBLE1BQU1RLFdBQVcsR0FBRyxTQUFkQSxXQUFjO0FBQUEsUUFBR0gsTUFBSCxTQUFHQSxNQUFIO0FBQUEsV0FBZ0JWLE9BQU8sQ0FBQ0gsRUFBRCxFQUFLYSxNQUFNLENBQUNMLEtBQVosQ0FBdkI7QUFBQSxHQUFwQjs7QUFFQSxTQUFPRCxNQUFNLENBQUNVLElBQVAsS0FBZ0IsUUFBaEIsSUFBNEJWLE1BQU0sQ0FBQ1UsSUFBUCxLQUFnQixTQUE1QyxnQkFDTCxvQkFBQyxXQUFEO0FBQ0UsSUFBQSxRQUFRLEVBQUVuQixRQUFRLElBQUtXLGtCQUFrQixJQUFJSCxRQUQvQztBQUVFLElBQUEsRUFBRSxFQUFFTixFQUZOO0FBR0UsSUFBQSxJQUFJLEVBQUVBLEVBSFI7QUFJRSxJQUFBLE1BQU0sRUFBRSxDQUFDTSxRQUFELEdBQVlTLFVBQVosR0FBeUJHLFNBSm5DO0FBS0UsSUFBQSxRQUFRLEVBQUUsQ0FBQ1osUUFBRCxHQUFZSSxrQkFBWixHQUFpQ1EsU0FMN0M7QUFNRSxJQUFBLE9BQU8sRUFBRSxDQUFDWixRQUFELEdBQVlVLFdBQVosR0FBMEJFLFNBTnJDO0FBT0UsSUFBQSxXQUFXLEVBQUViLFdBUGY7QUFRRSxJQUFBLEtBQUssRUFBRVYsV0FSVDtBQVNFLElBQUEsSUFBSSxFQUFDLFFBVFA7QUFVRSxJQUFBLEtBQUssRUFBRWE7QUFWVCxJQURLLGdCQWNMLG9CQUFDLEtBQUQ7QUFDRSxJQUFBLFFBQVEsRUFBRVYsUUFBUSxJQUFLVyxrQkFBa0IsSUFBSUgsUUFEL0M7QUFFRSxJQUFBLEVBQUUsRUFBRU4sRUFGTjtBQUdFLElBQUEsSUFBSSxFQUFFQSxFQUhSO0FBSUUsSUFBQSxNQUFNLEVBQUUsQ0FBQ00sUUFBRCxHQUFZUyxVQUFaLEdBQXlCRyxTQUpuQztBQUtFLElBQUEsUUFBUSxFQUFFLENBQUNaLFFBQUQsR0FBWU0sZ0JBQVosR0FBK0JNLFNBTDNDO0FBTUUsSUFBQSxPQUFPLEVBQUUsQ0FBQ1osUUFBRCxHQUFZVSxXQUFaLEdBQTBCRSxTQU5yQztBQU9FLElBQUEsV0FBVyxFQUFFYixXQVBmO0FBUUUsSUFBQSxLQUFLLEVBQUVWLFdBUlQ7QUFTRSxJQUFBLElBQUksRUFBRVMsT0FBTyxDQUFDZSxTQUFSLElBQXFCLE1BVDdCO0FBVUUsSUFBQSxLQUFLLEVBQUVYO0FBVlQsSUFkRjtBQTJCRCxDQXRERDs7QUF3REEsZUFBZVgsVUFBZiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgSW5wdXQgZnJvbSAnYW50ZC9saWIvaW5wdXQnO1xyXG5pbXBvcnQgSW5wdXROdW1iZXIgZnJvbSAnYW50ZC9saWIvaW5wdXQtbnVtYmVyJztcclxuXHJcbmNvbnN0IElOUFVUX1NUWUxFID0ge1xyXG4gIHdpZHRoOiAnMTAwJScsXHJcbn07XHJcblxyXG5jb25zdCBUZXh0V2lkZ2V0ID0gKHtcclxuICAvLyBhdXRvZm9jdXMsXHJcbiAgZGlzYWJsZWQsXHJcbiAgZm9ybUNvbnRleHQsXHJcbiAgaWQsXHJcbiAgLy8gbGFiZWwsXHJcbiAgb25CbHVyLFxyXG4gIG9uQ2hhbmdlLFxyXG4gIG9uRm9jdXMsXHJcbiAgb3B0aW9ucyxcclxuICBwbGFjZWhvbGRlcixcclxuICByZWFkb25seSxcclxuICAvLyByZXF1aXJlZCxcclxuICBzY2hlbWEsXHJcbiAgdmFsdWUsXHJcbn0pID0+IHtcclxuICBjb25zdCB7IHJlYWRvbmx5QXNEaXNhYmxlZCA9IHRydWUgfSA9IGZvcm1Db250ZXh0O1xyXG5cclxuICBjb25zdCBoYW5kbGVOdW1iZXJDaGFuZ2UgPSAobmV4dFZhbHVlKSA9PiBvbkNoYW5nZShuZXh0VmFsdWUpO1xyXG5cclxuICBjb25zdCBoYW5kbGVUZXh0Q2hhbmdlID0gKHsgdGFyZ2V0IH0pID0+XHJcbiAgICBvbkNoYW5nZSh0YXJnZXQudmFsdWUgPT09ICcnID8gb3B0aW9ucy5lbXB0eVZhbHVlIDogdGFyZ2V0LnZhbHVlKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQmx1ciA9ICh7IHRhcmdldCB9KSA9PiBvbkJsdXIoaWQsIHRhcmdldC52YWx1ZSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZvY3VzID0gKHsgdGFyZ2V0IH0pID0+IG9uRm9jdXMoaWQsIHRhcmdldC52YWx1ZSk7XHJcblxyXG4gIHJldHVybiBzY2hlbWEudHlwZSA9PT0gJ251bWJlcicgfHwgc2NoZW1hLnR5cGUgPT09ICdpbnRlZ2VyJyA/IChcclxuICAgIDxJbnB1dE51bWJlclxyXG4gICAgICBkaXNhYmxlZD17ZGlzYWJsZWQgfHwgKHJlYWRvbmx5QXNEaXNhYmxlZCAmJiByZWFkb25seSl9XHJcbiAgICAgIGlkPXtpZH1cclxuICAgICAgbmFtZT17aWR9XHJcbiAgICAgIG9uQmx1cj17IXJlYWRvbmx5ID8gaGFuZGxlQmx1ciA6IHVuZGVmaW5lZH1cclxuICAgICAgb25DaGFuZ2U9eyFyZWFkb25seSA/IGhhbmRsZU51bWJlckNoYW5nZSA6IHVuZGVmaW5lZH1cclxuICAgICAgb25Gb2N1cz17IXJlYWRvbmx5ID8gaGFuZGxlRm9jdXMgOiB1bmRlZmluZWR9XHJcbiAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cclxuICAgICAgc3R5bGU9e0lOUFVUX1NUWUxFfVxyXG4gICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgdmFsdWU9e3ZhbHVlfVxyXG4gICAgLz5cclxuICApIDogKFxyXG4gICAgPElucHV0XHJcbiAgICAgIGRpc2FibGVkPXtkaXNhYmxlZCB8fCAocmVhZG9ubHlBc0Rpc2FibGVkICYmIHJlYWRvbmx5KX1cclxuICAgICAgaWQ9e2lkfVxyXG4gICAgICBuYW1lPXtpZH1cclxuICAgICAgb25CbHVyPXshcmVhZG9ubHkgPyBoYW5kbGVCbHVyIDogdW5kZWZpbmVkfVxyXG4gICAgICBvbkNoYW5nZT17IXJlYWRvbmx5ID8gaGFuZGxlVGV4dENoYW5nZSA6IHVuZGVmaW5lZH1cclxuICAgICAgb25Gb2N1cz17IXJlYWRvbmx5ID8gaGFuZGxlRm9jdXMgOiB1bmRlZmluZWR9XHJcbiAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cclxuICAgICAgc3R5bGU9e0lOUFVUX1NUWUxFfVxyXG4gICAgICB0eXBlPXtvcHRpb25zLmlucHV0VHlwZSB8fCAndGV4dCd9XHJcbiAgICAgIHZhbHVlPXt2YWx1ZX1cclxuICAgIC8+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRleHRXaWRnZXQ7XHJcbiJdfQ==