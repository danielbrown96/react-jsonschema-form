/* eslint-disable no-else-return */
import React from 'react';
import { utils } from '@rjsf/core';
import Select from 'antd/lib/select';
var asNumber = utils.asNumber,
    guessType = utils.guessType;
var SELECT_STYLE = {
  width: '100%'
};
var nums = new Set(['number', 'integer']);
/**
 * This is a silly limitation in the DOM where option change event values are
 * always retrieved as strings.
 */

var processValue = function processValue(schema, value) {
  // "enum" is a reserved word, so only "type" and "items" can be destructured
  var type = schema.type,
      items = schema.items;

  if (value === '') {
    return undefined;
  } else if (type === 'array' && items && nums.has(items.type)) {
    return value.map(asNumber);
  } else if (type === 'boolean') {
    return value === 'true';
  } else if (type === 'number') {
    return asNumber(value);
  } // If type is undefined, but an enum is present, try and infer the type from
  // the enum values


  if (schema.enum) {
    if (schema.enum.every(function (x) {
      return guessType(x) === 'number';
    })) {
      return asNumber(value);
    } else if (schema.enum.every(function (x) {
      return guessType(x) === 'boolean';
    })) {
      return value === 'true';
    }
  }

  return value;
};

var SelectWidget = function SelectWidget(_ref) {
  var autofocus = _ref.autofocus,
      disabled = _ref.disabled,
      formContext = _ref.formContext,
      id = _ref.id,
      multiple = _ref.multiple,
      onBlur = _ref.onBlur,
      onChange = _ref.onChange,
      onFocus = _ref.onFocus,
      options = _ref.options,
      placeholder = _ref.placeholder,
      readonly = _ref.readonly,
      schema = _ref.schema,
      value = _ref.value;
  var _formContext$readonly = formContext.readonlyAsDisabled,
      readonlyAsDisabled = _formContext$readonly === void 0 ? true : _formContext$readonly;
  var enumOptions = options.enumOptions,
      enumDisabled = options.enumDisabled;

  var handleChange = function handleChange(nextValue) {
    return onChange(processValue(schema, nextValue));
  };

  var handleBlur = function handleBlur() {
    return onBlur(id, processValue(schema, value));
  };

  var handleFocus = function handleFocus() {
    return onFocus(id, processValue(schema, value));
  };

  var getPopupContainer = function getPopupContainer(node) {
    return node.parentNode;
  };

  var stringify = function stringify(currentValue) {
    return Array.isArray(currentValue) ? value.map(String) : String(value);
  };

  return /*#__PURE__*/React.createElement(Select, {
    autoFocus: autofocus,
    disabled: disabled || readonlyAsDisabled && readonly,
    getPopupContainer: getPopupContainer,
    id: id,
    mode: typeof multiple !== 'undefined' ? 'multiple' : undefined,
    name: id,
    onBlur: !readonly ? handleBlur : undefined,
    onChange: !readonly ? handleChange : undefined,
    onFocus: !readonly ? handleFocus : undefined,
    placeholder: placeholder,
    style: SELECT_STYLE,
    value: typeof value !== 'undefined' ? stringify(value) : undefined
  }, enumOptions.map(function (_ref2) {
    var optionValue = _ref2.value,
        optionLabel = _ref2.label;
    return /*#__PURE__*/React.createElement(Select.Option, {
      disabled: enumDisabled && enumDisabled.indexOf(optionValue) !== -1,
      key: String(optionValue),
      value: String(optionValue)
    }, optionLabel);
  }));
};

SelectWidget.defaultProps = {
  formContext: {}
};
export default SelectWidget;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy93aWRnZXRzL1NlbGVjdFdpZGdldC9pbmRleC5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsInV0aWxzIiwiU2VsZWN0IiwiYXNOdW1iZXIiLCJndWVzc1R5cGUiLCJTRUxFQ1RfU1RZTEUiLCJ3aWR0aCIsIm51bXMiLCJTZXQiLCJwcm9jZXNzVmFsdWUiLCJzY2hlbWEiLCJ2YWx1ZSIsInR5cGUiLCJpdGVtcyIsInVuZGVmaW5lZCIsImhhcyIsIm1hcCIsImVudW0iLCJldmVyeSIsIngiLCJTZWxlY3RXaWRnZXQiLCJhdXRvZm9jdXMiLCJkaXNhYmxlZCIsImZvcm1Db250ZXh0IiwiaWQiLCJtdWx0aXBsZSIsIm9uQmx1ciIsIm9uQ2hhbmdlIiwib25Gb2N1cyIsIm9wdGlvbnMiLCJwbGFjZWhvbGRlciIsInJlYWRvbmx5IiwicmVhZG9ubHlBc0Rpc2FibGVkIiwiZW51bU9wdGlvbnMiLCJlbnVtRGlzYWJsZWQiLCJoYW5kbGVDaGFuZ2UiLCJuZXh0VmFsdWUiLCJoYW5kbGVCbHVyIiwiaGFuZGxlRm9jdXMiLCJnZXRQb3B1cENvbnRhaW5lciIsIm5vZGUiLCJwYXJlbnROb2RlIiwic3RyaW5naWZ5IiwiY3VycmVudFZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwiU3RyaW5nIiwib3B0aW9uVmFsdWUiLCJvcHRpb25MYWJlbCIsImxhYmVsIiwiaW5kZXhPZiIsImRlZmF1bHRQcm9wcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxPQUFPQSxLQUFQLE1BQWtCLE9BQWxCO0FBRUEsU0FBU0MsS0FBVCxRQUFzQixZQUF0QjtBQUNBLE9BQU9DLE1BQVAsTUFBbUIsaUJBQW5CO0lBRVFDLFEsR0FBd0JGLEssQ0FBeEJFLFE7SUFBVUMsUyxHQUFjSCxLLENBQWRHLFM7QUFFbEIsSUFBTUMsWUFBWSxHQUFHO0FBQ25CQyxFQUFBQSxLQUFLLEVBQUU7QUFEWSxDQUFyQjtBQUlBLElBQU1DLElBQUksR0FBRyxJQUFJQyxHQUFKLENBQVEsQ0FBQyxR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QUEsUUFBOEJxQyxXQUE5QixTQUF1QkMsS0FBdkI7QUFBQSx3QkFDZixvQkFBQyxNQUFELENBQVEsTUFBUjtBQUNFLE1BQUEsUUFBUSxFQUFFZixZQUFZLElBQUlBLFlBQVksQ0FBQ2dCLE9BQWIsQ0FBcUJILFdBQXJCLE1BQXNDLENBQUMsQ0FEbkU7QUFFRSxNQUFBLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxXQUFELENBRmI7QUFHRSxNQUFBLEtBQUssRUFBRUQsTUFBTSxDQUFDQyxXQUFEO0FBSGYsT0FLR0MsV0FMSCxDQURlO0FBQUEsR0FBaEIsQ0FkSCxDQURGO0FBMEJELENBMUREOztBQTREQTVCLFlBQVksQ0FBQytCLFlBQWIsR0FBNEI7QUFDMUI1QixFQUFBQSxXQUFXLEVBQUU7QUFEYSxDQUE1QjtBQUlBLGVBQWVILFlBQWYiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1lbHNlLXJldHVybiAqL1xyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IHsgdXRpbHMgfSBmcm9tICdAcmpzZi9jb3JlJztcclxuaW1wb3J0IFNlbGVjdCBmcm9tICdhbnRkL2xpYi9zZWxlY3QnO1xyXG5cclxuY29uc3QgeyBhc051bWJlciwgZ3Vlc3NUeXBlIH0gPSB1dGlscztcclxuXHJcbmNvbnN0IFNFTEVDVF9TVFlMRSA9IHtcclxuICB3aWR0aDogJzEwMCUnLFxyXG59O1xyXG5cclxuY29uc3QgbnVtcyA9IG5ldyBTZXQoWydudW1iZXInLCAnaW50ZWdlciddKTtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGlzIGEgc2lsbHkgbGltaXRhdGlvbiBpbiB0aGUgRE9NIHdoZXJlIG9wdGlvbiBjaGFuZ2UgZXZlbnQgdmFsdWVzIGFyZVxyXG4gKiBhbHdheXMgcmV0cmlldmVkIGFzIHN0cmluZ3MuXHJcbiAqL1xyXG5jb25zdCBwcm9jZXNzVmFsdWUgPSAoc2NoZW1hLCB2YWx1ZSkgPT4ge1xyXG4gIC8vIFwiZW51bVwiIGlzIGEgcmVzZXJ2ZWQgd29yZCwgc28gb25seSBcInR5cGVcIiBhbmQgXCJpdGVtc1wiIGNhbiBiZSBkZXN0cnVjdHVyZWRcclxuICBjb25zdCB7IHR5cGUsIGl0ZW1zIH0gPSBzY2hlbWE7XHJcblxyXG4gIGlmICh2YWx1ZSA9PT0gJycpIHtcclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnYXJyYXknICYmIGl0ZW1zICYmIG51bXMuaGFzKGl0ZW1zLnR5cGUpKSB7XHJcbiAgICByZXR1cm4gdmFsdWUubWFwKGFzTnVtYmVyKTtcclxuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdib29sZWFuJykge1xyXG4gICAgcmV0dXJuIHZhbHVlID09PSAndHJ1ZSc7XHJcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xyXG4gICAgcmV0dXJuIGFzTnVtYmVyKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8vIElmIHR5cGUgaXMgdW5kZWZpbmVkLCBidXQgYW4gZW51bSBpcyBwcmVzZW50LCB0cnkgYW5kIGluZmVyIHRoZSB0eXBlIGZyb21cclxuICAvLyB0aGUgZW51bSB2YWx1ZXNcclxuICBpZiAoc2NoZW1hLmVudW0pIHtcclxuICAgIGlmIChzY2hlbWEuZW51bS5ldmVyeSgoeCkgPT4gZ3Vlc3NUeXBlKHgpID09PSAnbnVtYmVyJykpIHtcclxuICAgICAgcmV0dXJuIGFzTnVtYmVyKHZhbHVlKTtcclxuICAgIH0gZWxzZSBpZiAoc2NoZW1hLmVudW0uZXZlcnkoKHgpID0+IGd1ZXNzVHlwZSh4KSA9PT0gJ2Jvb2xlYW4nKSkge1xyXG4gICAgICByZXR1cm4gdmFsdWUgPT09ICd0cnVlJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB2YWx1ZTtcclxufTtcclxuXHJcbmNvbnN0IFNlbGVjdFdpZGdldCA9ICh7XHJcbiAgYXV0b2ZvY3VzLFxyXG4gIGRpc2FibGVkLFxyXG4gIGZvcm1Db250ZXh0LFxyXG4gIGlkLFxyXG4gIC8vIGxhYmVsLFxyXG4gIG11bHRpcGxlLFxyXG4gIG9uQmx1cixcclxuICBvbkNoYW5nZSxcclxuICBvbkZvY3VzLFxyXG4gIG9wdGlvbnMsXHJcbiAgcGxhY2Vob2xkZXIsXHJcbiAgcmVhZG9ubHksXHJcbiAgLy8gcmVxdWlyZWQsXHJcbiAgc2NoZW1hLFxyXG4gIHZhbHVlLFxyXG59KSA9PiB7XHJcbiAgY29uc3QgeyByZWFkb25seUFzRGlzYWJsZWQgPSB0cnVlIH0gPSBmb3JtQ29udGV4dDtcclxuXHJcbiAgY29uc3QgeyBlbnVtT3B0aW9ucywgZW51bURpc2FibGVkIH0gPSBvcHRpb25zO1xyXG5cclxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAobmV4dFZhbHVlKSA9PiBvbkNoYW5nZShwcm9jZXNzVmFsdWUoc2NoZW1hLCBuZXh0VmFsdWUpKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQmx1ciA9ICgpID0+IG9uQmx1cihpZCwgcHJvY2Vzc1ZhbHVlKHNjaGVtYSwgdmFsdWUpKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlRm9jdXMgPSAoKSA9PiBvbkZvY3VzKGlkLCBwcm9jZXNzVmFsdWUoc2NoZW1hLCB2YWx1ZSkpO1xyXG5cclxuICBjb25zdCBnZXRQb3B1cENvbnRhaW5lciA9IChub2RlKSA9PiBub2RlLnBhcmVudE5vZGU7XHJcblxyXG4gIGNvbnN0IHN0cmluZ2lmeSA9IChjdXJyZW50VmFsdWUpID0+XHJcbiAgICBBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZSkgPyB2YWx1ZS5tYXAoU3RyaW5nKSA6IFN0cmluZyh2YWx1ZSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8U2VsZWN0XHJcbiAgICAgIGF1dG9Gb2N1cz17YXV0b2ZvY3VzfVxyXG4gICAgICBkaXNhYmxlZD17ZGlzYWJsZWQgfHwgKHJlYWRvbmx5QXNEaXNhYmxlZCAmJiByZWFkb25seSl9XHJcbiAgICAgIGdldFBvcHVwQ29udGFpbmVyPXtnZXRQb3B1cENvbnRhaW5lcn1cclxuICAgICAgaWQ9e2lkfVxyXG4gICAgICBtb2RlPXt0eXBlb2YgbXVsdGlwbGUgIT09ICd1bmRlZmluZWQnID8gJ211bHRpcGxlJyA6IHVuZGVmaW5lZH1cclxuICAgICAgbmFtZT17aWR9XHJcbiAgICAgIG9uQmx1cj17IXJlYWRvbmx5ID8gaGFuZGxlQmx1ciA6IHVuZGVmaW5lZH1cclxuICAgICAgb25DaGFuZ2U9eyFyZWFkb25seSA/IGhhbmRsZUNoYW5nZSA6IHVuZGVmaW5lZH1cclxuICAgICAgb25Gb2N1cz17IXJlYWRvbmx5ID8gaGFuZGxlRm9jdXMgOiB1bmRlZmluZWR9XHJcbiAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cclxuICAgICAgc3R5bGU9e1NFTEVDVF9TVFlMRX1cclxuICAgICAgdmFsdWU9e3R5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgPyBzdHJpbmdpZnkodmFsdWUpIDogdW5kZWZpbmVkfVxyXG4gICAgPlxyXG4gICAgICB7ZW51bU9wdGlvbnMubWFwKCh7IHZhbHVlOiBvcHRpb25WYWx1ZSwgbGFiZWw6IG9wdGlvbkxhYmVsIH0pID0+IChcclxuICAgICAgICA8U2VsZWN0Lk9wdGlvblxyXG4gICAgICAgICAgZGlzYWJsZWQ9e2VudW1EaXNhYmxlZCAmJiBlbnVtRGlzYWJsZWQuaW5kZXhPZihvcHRpb25WYWx1ZSkgIT09IC0xfVxyXG4gICAgICAgICAga2V5PXtTdHJpbmcob3B0aW9uVmFsdWUpfVxyXG4gICAgICAgICAgdmFsdWU9e1N0cmluZyhvcHRpb25WYWx1ZSl9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAge29wdGlvbkxhYmVsfVxyXG4gICAgICAgIDwvU2VsZWN0Lk9wdGlvbj5cclxuICAgICAgKSl9XHJcbiAgICA8L1NlbGVjdD5cclxuICApO1xyXG59O1xyXG5cclxuU2VsZWN0V2lkZ2V0LmRlZmF1bHRQcm9wcyA9IHtcclxuICBmb3JtQ29udGV4dDoge30sXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RXaWRnZXQ7XHJcbiJdfQ==