import React from 'react';
import { utils } from '@rjsf/core';
import Button from 'antd/lib/button';
import Col from 'antd/lib/col';
import Form from 'antd/lib/form';
import Input from 'antd/lib/input';
import Row from 'antd/lib/row';
import DeleteOutlined from '@ant-design/icons/DeleteOutlined';
var ADDITIONAL_PROPERTY_FLAG = utils.ADDITIONAL_PROPERTY_FLAG;
var VERTICAL_LABEL_COL = {
  span: 24
};
var VERTICAL_WRAPPER_COL = {
  span: 24
};
var INPUT_STYLE = {
  width: '100%'
};

var WrapIfAdditional = function WrapIfAdditional(_ref) {
  var children = _ref.children,
      classNames = _ref.classNames,
      disabled = _ref.disabled,
      formContext = _ref.formContext,
      id = _ref.id,
      label = _ref.label,
      onDropPropertyClick = _ref.onDropPropertyClick,
      onKeyChange = _ref.onKeyChange,
      readonly = _ref.readonly,
      required = _ref.required,
      schema = _ref.schema;
  var colon = formContext.colon,
      _formContext$labelCol = formContext.labelCol,
      labelCol = _formContext$labelCol === void 0 ? VERTICAL_LABEL_COL : _formContext$labelCol,
      _formContext$readonly = formContext.readonlyAsDisabled,
      readonlyAsDisabled = _formContext$readonly === void 0 ? true : _formContext$readonly,
      _formContext$rowGutte = formContext.rowGutter,
      rowGutter = _formContext$rowGutte === void 0 ? 24 : _formContext$rowGutte,
      _formContext$toolbarA = formContext.toolbarAlign,
      toolbarAlign = _formContext$toolbarA === void 0 ? 'top' : _formContext$toolbarA,
      _formContext$wrapperC = formContext.wrapperCol,
      wrapperCol = _formContext$wrapperC === void 0 ? VERTICAL_WRAPPER_COL : _formContext$wrapperC,
      wrapperStyle = formContext.wrapperStyle;
  var keyLabel = "".concat(label, " Key"); // i18n ?

  var additional = schema.hasOwnProperty(ADDITIONAL_PROPERTY_FLAG);

  if (!additional) {
    return /*#__PURE__*/React.createElement("div", {
      className: classNames
    }, children);
  }

  var handleBlur = function handleBlur(_ref2) {
    var target = _ref2.target;
    return onKeyChange(target.value);
  };

  return /*#__PURE__*/React.createElement("div", {
    className: classNames
  }, /*#__PURE__*/React.createElement(Row, {
    align: toolbarAlign,
    gutter: rowGutter
  }, /*#__PURE__*/React.createElement(Col, {
    className: "form-additional",
    flex: "1"
  }, /*#__PURE__*/React.createElement("div", {
    className: "form-group"
  }, /*#__PURE__*/React.createElement(Form.Item, {
    colon: colon,
    className: "form-group",
    hasFeedback: true,
    htmlFor: "".concat(id, "-key"),
    label: keyLabel,
    labelCol: labelCol,
    required: required,
    style: wrapperStyle,
    wrapperCol: wrapperCol
  }, /*#__PURE__*/React.createElement(Input, {
    className: "form-control",
    defaultValue: label,
    disabled: disabled || readonlyAsDisabled && readonly,
    id: "".concat(id, "-key"),
    name: "".concat(id, "-key"),
    onBlur: !readonly ? handleBlur : undefined,
    style: INPUT_STYLE,
    type: "text"
  })))), /*#__PURE__*/React.createElement(Col, {
    className: "form-additional",
    flex: "1"
  }, children), /*#__PURE__*/React.createElement(Col, {
    flex: "192px"
  }, /*#__PURE__*/React.createElement(Button, {
    block: true,
    className: "array-item-remove",
    danger: true,
    disabled: disabled || readonly,
    icon: /*#__PURE__*/React.createElement(DeleteOutlined, null),
    onClick: onDropPropertyClick(label),
    type: "primary"
  }))));
};

export default WrapIfAdditional;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy90ZW1wbGF0ZXMvRmllbGRUZW1wbGF0ZS9XcmFwSWZBZGRpdGlvbmFsLmpzIl0sIm5hbWVzIjpbIlJlYWN0IiwidXRpbHMiLCJCdXR0b24iLCJDb2wiLCJGb3JtIiwiSW5wdXQiLCJSb3ciLCJEZWxldGVPdXRsaW5lZCIsIkFERElUSU9OQUxfUFJPUEVSVFlfRkxBRyIsIlZFUlRJQ0FMX0xBQkVMX0NPTCIsInNwYW4iLCJWRVJUSUNBTF9XUkFQUEVSX0NPTCIsIklOUFVUX1NUWUxFIiwid2lkdGgiLCJXcmFwSWZBZGRpdGlvbmFsIiwiY2hpbGRyZW4iLCJjbGFzc05hbWVzIiwiZGlzYWJsZWQiLCJmb3JtQ29udGV4dCIsImlkIiwibGFiZWwiLCJvbkRyb3BQcm9wZXJ0eUNsaWNrIiwib25LZXlDaGFuZ2UiLCJyZWFkb25seSIsInJlcXVpcmVkIiwic2NoZW1hIiwiY29sb24iLCJsYWJlbENvbCIsInJlYWRvbmx5QXNEaXNhYmxlZCIsInJvd0d1dHRlciIsInRvb2xiYXJBbGlnbiIsIndyYXBwZXJDb2wiLCJ3cmFwcGVyU3R5bGUiLCJrZXlMYWJlbCIsImFkZGl0aW9uYWwiLCJoYXNPd25Qcm9wZXJ0eSIsImhhbmRsZUJsdXIiLCJ0YXJnZXQiLCJ2YWx1ZSIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBT0EsS0FBUCxNQUFrQixPQUFsQjtBQUVBLFNBQVNDLEtBQVQsUUFBc0IsWUFBdEI7QUFDQSxPQUFPQyxNQUFQLE1BQW1CLGlCQUFuQjtBQUNBLE9BQU9DLEdBQVAsTUFBZ0IsY0FBaEI7QUFDQSxPQUFPQyxJQUFQLE1BQWlCLGVBQWpCO0FBQ0EsT0FBT0MsS0FBUCxNQUFrQixnQkFBbEI7QUFDQSxPQUFPQyxHQUFQLE1BQWdCLGNBQWhCO0FBQ0EsT0FBT0MsY0FBUCxNQUEyQixrQ0FBM0I7SUFFUUMsd0IsR0FBNkJQLEssQ0FBN0JPLHdCO0FBRVIsSUFBTUMsa0JBQWtCLEdBQUc7QUFBRUMsRUFBQUEsSUFBSSxF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LElBQUEsTUFBTSxFQUFFLENBQUNJLFFBQUQsR0FBWWEsVUFBWixHQUF5QkcsU0FObkM7QUFPRSxJQUFBLEtBQUssRUFBRTNCLFdBUFQ7QUFRRSxJQUFBLElBQUksRUFBQztBQVJQLElBWEYsQ0FERixDQURGLENBREYsZUEyQkUsb0JBQUMsR0FBRDtBQUFLLElBQUEsU0FBUyxFQUFDLGlCQUFmO0FBQWlDLElBQUEsSUFBSSxFQUFDO0FBQXRDLEtBQ0dHLFFBREgsQ0EzQkYsZUE4QkUsb0JBQUMsR0FBRDtBQUFLLElBQUEsSUFBSSxFQUFDO0FBQVYsa0JBQ0Usb0JBQUMsTUFBRDtBQUNFLElBQUEsS0FBSyxNQURQO0FBRUUsSUFBQSxTQUFTLEVBQUMsbUJBRlo7QUFHRSxJQUFBLE1BQU0sTUFIUjtBQUlFLElBQUEsUUFBUSxFQUFFRSxRQUFRLElBQUlNLFFBSnhCO0FBS0UsSUFBQSxJQUFJLGVBQUUsb0JBQUMsY0FBRCxPQUxSO0FBTUUsSUFBQSxPQUFPLEVBQUVGLG1CQUFtQixDQUFDRCxLQUFELENBTjlCO0FBT0UsSUFBQSxJQUFJLEVBQUM7QUFQUCxJQURGLENBOUJGLENBREYsQ0FERjtBQThDRCxDQTlFRDs7QUFnRkEsZUFBZU4sZ0JBQWYiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IHsgdXRpbHMgfSBmcm9tICdAcmpzZi9jb3JlJztcclxuaW1wb3J0IEJ1dHRvbiBmcm9tICdhbnRkL2xpYi9idXR0b24nO1xyXG5pbXBvcnQgQ29sIGZyb20gJ2FudGQvbGliL2NvbCc7XHJcbmltcG9ydCBGb3JtIGZyb20gJ2FudGQvbGliL2Zvcm0nO1xyXG5pbXBvcnQgSW5wdXQgZnJvbSAnYW50ZC9saWIvaW5wdXQnO1xyXG5pbXBvcnQgUm93IGZyb20gJ2FudGQvbGliL3Jvdyc7XHJcbmltcG9ydCBEZWxldGVPdXRsaW5lZCBmcm9tICdAYW50LWRlc2lnbi9pY29ucy9EZWxldGVPdXRsaW5lZCc7XHJcblxyXG5jb25zdCB7IEFERElUSU9OQUxfUFJPUEVSVFlfRkxBRyB9ID0gdXRpbHM7XHJcblxyXG5jb25zdCBWRVJUSUNBTF9MQUJFTF9DT0wgPSB7IHNwYW46IDI0IH07XHJcbmNvbnN0IFZFUlRJQ0FMX1dSQVBQRVJfQ09MID0geyBzcGFuOiAyNCB9O1xyXG5cclxuY29uc3QgSU5QVVRfU1RZTEUgPSB7XHJcbiAgd2lkdGg6ICcxMDAlJyxcclxufTtcclxuXHJcbmNvbnN0IFdyYXBJZkFkZGl0aW9uYWwgPSAoe1xyXG4gIGNoaWxkcmVuLFxyXG4gIGNsYXNzTmFtZXMsXHJcbiAgZGlzYWJsZWQsXHJcbiAgZm9ybUNvbnRleHQsXHJcbiAgaWQsXHJcbiAgbGFiZWwsXHJcbiAgb25Ecm9wUHJvcGVydHlDbGljayxcclxuICBvbktleUNoYW5nZSxcclxuICByZWFkb25seSxcclxuICByZXF1aXJlZCxcclxuICBzY2hlbWEsXHJcbn0pID0+IHtcclxuICBjb25zdCB7XHJcbiAgICBjb2xvbixcclxuICAgIGxhYmVsQ29sID0gVkVSVElDQUxfTEFCRUxfQ09MLFxyXG4gICAgcmVhZG9ubHlBc0Rpc2FibGVkID0gdHJ1ZSxcclxuICAgIHJvd0d1dHRlciA9IDI0LFxyXG4gICAgdG9vbGJhckFsaWduID0gJ3RvcCcsXHJcbiAgICB3cmFwcGVyQ29sID0gVkVSVElDQUxfV1JBUFBFUl9DT0wsXHJcbiAgICB3cmFwcGVyU3R5bGUsXHJcbiAgfSA9IGZvcm1Db250ZXh0O1xyXG5cclxuICBjb25zdCBrZXlMYWJlbCA9IGAke2xhYmVsfSBLZXlgOyAvLyBpMThuID9cclxuICBjb25zdCBhZGRpdGlvbmFsID0gc2NoZW1hLmhhc093blByb3BlcnR5KEFERElUSU9OQUxfUFJPUEVSVFlfRkxBRyk7XHJcblxyXG4gIGlmICghYWRkaXRpb25hbCkge1xyXG4gICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzfT57Y2hpbGRyZW59PC9kaXY+O1xyXG4gIH1cclxuXHJcbiAgY29uc3QgaGFuZGxlQmx1ciA9ICh7IHRhcmdldCB9KSA9PiBvbktleUNoYW5nZSh0YXJnZXQudmFsdWUpO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXN9PlxyXG4gICAgICA8Um93IGFsaWduPXt0b29sYmFyQWxpZ259IGd1dHRlcj17cm93R3V0dGVyfT5cclxuICAgICAgICA8Q29sIGNsYXNzTmFtZT1cImZvcm0tYWRkaXRpb25hbFwiIGZsZXg9XCIxXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cclxuICAgICAgICAgICAgPEZvcm0uSXRlbVxyXG4gICAgICAgICAgICAgIGNvbG9uPXtjb2xvbn1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCJcclxuICAgICAgICAgICAgICBoYXNGZWVkYmFja1xyXG4gICAgICAgICAgICAgIGh0bWxGb3I9e2Ake2lkfS1rZXlgfVxyXG4gICAgICAgICAgICAgIGxhYmVsPXtrZXlMYWJlbH1cclxuICAgICAgICAgICAgICBsYWJlbENvbD17bGFiZWxDb2x9XHJcbiAgICAgICAgICAgICAgcmVxdWlyZWQ9e3JlcXVpcmVkfVxyXG4gICAgICAgICAgICAgIHN0eWxlPXt3cmFwcGVyU3R5bGV9XHJcbiAgICAgICAgICAgICAgd3JhcHBlckNvbD17d3JhcHBlckNvbH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17bGFiZWx9XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWQgfHwgKHJlYWRvbmx5QXNEaXNhYmxlZCAmJiByZWFkb25seSl9XHJcbiAgICAgICAgICAgICAgICBpZD17YCR7aWR9LWtleWB9XHJcbiAgICAgICAgICAgICAgICBuYW1lPXtgJHtpZH0ta2V5YH1cclxuICAgICAgICAgICAgICAgIG9uQmx1cj17IXJlYWRvbmx5ID8gaGFuZGxlQmx1ciA6IHVuZGVmaW5lZH1cclxuICAgICAgICAgICAgICAgIHN0eWxlPXtJTlBVVF9TVFlMRX1cclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L0Zvcm0uSXRlbT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvQ29sPlxyXG4gICAgICAgIDxDb2wgY2xhc3NOYW1lPVwiZm9ybS1hZGRpdGlvbmFsXCIgZmxleD1cIjFcIj5cclxuICAgICAgICAgIHtjaGlsZHJlbn1cclxuICAgICAgICA8L0NvbD5cclxuICAgICAgICA8Q29sIGZsZXg9XCIxOTJweFwiPlxyXG4gICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICBibG9ja1xyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhcnJheS1pdGVtLXJlbW92ZVwiXHJcbiAgICAgICAgICAgIGRhbmdlclxyXG4gICAgICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWQgfHwgcmVhZG9ubHl9XHJcbiAgICAgICAgICAgIGljb249ezxEZWxldGVPdXRsaW5lZCAvPn1cclxuICAgICAgICAgICAgb25DbGljaz17b25Ecm9wUHJvcGVydHlDbGljayhsYWJlbCl9XHJcbiAgICAgICAgICAgIHR5cGU9XCJwcmltYXJ5XCJcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9Db2w+XHJcbiAgICAgIDwvUm93PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFdyYXBJZkFkZGl0aW9uYWw7XHJcbiJdfQ==